# ๐ ูุธุงู API ุงูุขูู - Supabase Edge Functions

## ูุธุฑุฉ ุนุงูุฉ

ุชู ููู ุฌููุน ุนูููุงุช API ุงูุญุณุงุณุฉ ุฅูู **Supabase Edge Functions** ูุถูุงู ุงูุฃูุงู ูุงูุญูุงูุฉ ูู ุณุฑูุฉ ููุงุชูุญ API.

## โ ุงูุชุญุฏูุซุงุช ุงูููุชููุฉ

### **1. ุฑูุน ุงูุตูุฑ (Avatar Upload)**
- **ูุจู:** ูุจุงุดุฑุฉ ูู ุงููุชุตูุญ ุจุงุณุชุฎุฏุงู ููุงุชูุญ API
- **ุจุนุฏ:** ุนุจุฑ `upload-avatar` Edge Function
- **ุงูุฃูุงู:** ููุงุชูุญ Cloudinary ูุญููุฉ ูู ุงูุฎุงุฏู

### **2. ุญุฐู ุงูุตูุฑ (Avatar Delete)**
- **ูุจู:** ูุงู ูุญุชุงุฌ ูููุงุชูุญ API ูู ุงูููุฏ ุงูุฃูุงูู
- **ุจุนุฏ:** ุนุจุฑ `delete-avatar` Edge Function
- **ุงูุฃูุงู:** ุนูููุฉ ุงูุญุฐู ุงูุขููุฉ ูุงููุญููุฉ

### **3. Gemini AI**
- **ูุจู:** ููุงุชูุญ API ูู ุงูููุฏ ุงูุฃูุงูู
- **ุจุนุฏ:** ุนุจุฑ `gemini-chat` Edge Function
- **ุงูุฃูุงู:** ููุงุชูุญ Google AI ูุญููุฉ

## ๐ง ุงูุฅุนุฏุงุฏ ุงููุทููุจ

### **ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู Supabase:**

```bash
# ุงุฐูุจ ุฅูู: https://supabase.com/dashboard โ Your Project โ Settings โ Edge Functions

# =============================================================================
# CLOUDINARY CONFIGURATION (ููู upload-avatar ู delete-avatar ู cloudinary-webhook)
# =============================================================================
CLOUDINARY_CLOUD_NAME=Name
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret
CLOUDINARY_UPLOAD_PRESET=masarx-uploads
CLOUDINARY_WEBHOOK_KEY=your_webhook_secret_key

# =============================================================================
# GEMINI AI CONFIGURATION (ููู gemini-chat ู summarize-chat functions)
# =============================================================================
GEMINI_API_KEY=AIzaSy******************************* # ููุชุงุญ ุดุฎุตู (ุงุฎุชูุงุฑู)
GENERAL_API_KEY_1=AIzaSy******************************* # ููุชุงุญ ุงุญุชูุงุทู 1
GENERAL_API_KEY_2=AIzaSy******************************* # ููุชุงุญ ุงุญุชูุงุทู 2
GENERAL_API_KEY_3=AIzaSy******************************* # ููุชุงุญ ุงุญุชูุงุทู 3

# =============================================================================
# SUPABASE CONFIGURATION (ูุทููุจ ูุฌููุน functions)
# =============================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# =============================================================================
# EMAIL CONFIGURATION (ููู request-password-reset ู reset-password functions)
# =============================================================================
BREVO_API_KEY=your_brevo_api_key
```

### **ููู .env ุงููุญูู (ุงููุจุณุท):**

```env
# ูุชุบูุฑุงุช Supabase ููุท (ุบูุฑ ุญุณุงุณุฉ)
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# ูู ุชุนุฏ ุชุญุชุงุฌ ูุฃู ููุงุชูุญ API ุฃุฎุฑู!
```

## ๐ Edge Functions ุงููุชุงุญุฉ

### **upload-avatar**
- **ุงููุณุงุฑ:** `supabase/functions/upload-avatar/`
- **ุงููุธููุฉ:** ุฑูุน ุตูุฑ ุงูููู ุงูุดุฎุตู ุจุฃูุงู
- **ุงููุฏุฎูุงุช:** `file` (base64), `fileName`, `contentType`
- **ุงููุฎุฑุฌุงุช:** `url`, `public_id`

### **delete-avatar**
- **ุงููุณุงุฑ:** `supabase/functions/delete-avatar/`
- **ุงููุธููุฉ:** ุญุฐู ุตูุฑ ุงูููู ุงูุดุฎุตู
- **ุงููุฏุฎูุงุช:** `publicId`
- **ุงููุฎุฑุฌุงุช:** ุชุฃููุฏ ุงูุญุฐู

### **gemini-chat**
- **ุงููุณุงุฑ:** `supabase/functions/gemini-chat/`
- **ุงููุธููุฉ:** ุงูุฏุฑุฏุดุฉ ูุน AI
- **ุงููุฏุฎูุงุช:** ุฑุณุงุฆู ุงููุญุงุฏุซุฉ
- **ุงููุฎุฑุฌุงุช:** ุฑุฏูุฏ AI

## ๐ ููุงุฆุฏ ุงูุฃูุงู

### **ูุจู ุงูุชุญุฏูุซ:**
- โ ููุงุชูุญ API ูุฑุฆูุฉ ูู ุงููุชุตูุญ
- โ ุฎุทุฑ ุณุฑูุฉ ุงูููุงุชูุญ
- โ ููุงุชูุฑ ุบูุฑ ูุชููุนุฉ
- โ ูุฎุงุทุฑ ุฃูููุฉ

### **ุจุนุฏ ุงูุชุญุฏูุซ:**
- โ ููุงุชูุญ API ูุญููุฉ ูู ุงูุฎุงุฏู
- โ ูุง ูููู ุงููุตูู ููููุงุชูุญ ูู ุงููุชุตูุญ
- โ ุชุญูู ูุงูู ูู ุงูุตูุงุญูุงุช
- โ ุฃูุงู ูุชูุฏู ูุน ุชุดููุฑ

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### **ุงุฎุชุจุงุฑ ุฑูุน ุงูุตูุฑ:**
```javascript
// ูู ุงููุชุตูุญ console
const fileInput = document.querySelector('input[type="file"]');
const file = fileInput.files[0];

// ุณูุชู ุฑูุน ุงูุตูุฑุฉ ุนุจุฑ Edge Function ุชููุงุฆูุงู
// ูู ุชุฑู ููุงุชูุญ Cloudinary ูู ุงูุดุจูุฉ
```

### **ุงุฎุชุจุงุฑ ุญุฐู ุงูุตูุฑ:**
```javascript
// ุณูุชู ุญุฐู ุงูุตูุฑุฉ ุนุจุฑ Edge Function
// ูุน ุญูุงูุฉ ูุงููุฉ ููููุงุชูุญ
```

### **ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ุชุณุฑุจ:**
1. ุงูุชุญ Developer Tools โ Network
2. ุงุฑูุน ุตูุฑุฉ ุฃู ุงุณุชุฎุฏู AI
3. ุชุฃูุฏ ูู ุนุฏู ุธููุฑ ุฃู ููุงุชูุญ API ูู ุงูุทูุจุงุช

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### **ููุชุทุจููุงุช ุงูุฃุตููุฉ:**
- โ ูููู ุงูุขู ุจูุงุก Electron/Capacitor apps
- โ ููุงุชูุญ API ูุญููุฉ ุจุงููุงูู
- โ ุฌุงูุฒ ูููุดุฑ

### **ูููุดุฑ:**
- โ ูููู ูุดุฑ ุงููุดุฑูุน ุจุฃูุงู
- โ ูุง ุฎุทุฑ ูู ุชุณุฑุจ ุงูููุงุชูุญ
- โ ุฃุฏุงุก ูุญุณู

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### **ุงููุณุฎ ุงูุงุญุชูุงุทู:**
- ุงุญุชูุธ ุจูุณุฎุฉ ูู ููุงุชูุญ API ูู ููุงู ุขูู
- ูุง ุชุดุงุฑููุง ูุน ุฃู ุดุฎุต

### **ุงููุฑุงูุจุฉ:**
- ุฑุงูุจ ุงุณุชุฎุฏุงู API ูู Cloudinary ู Google
- ุญุฏุฏ ุชูุจููุงุช ููุงุณุชุฎุฏุงู ุงูุนุงูู

### **ุงูุชุญุฏูุซุงุช:**
- ุนูุฏ ุชุบููุฑ ููุงุชูุญ APIุ ุญุฏุซูุง ูู Supabase ููุท
- ูุง ุชุญุชุงุฌ ูุฅุนุงุฏุฉ ุจูุงุก ุงูุชุทุจูู

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

**ููุตุชู ุงูุขู ุขููุฉ 100%** ูุน ูุธุงู API ูุญูู ุจุงููุงูู! ๐ก๏ธ

ูุง ุชูุฌุฏ ุฃู ููุงุชูุญ API ูู ุงูููุฏ ุงูุฃูุงููุ ูุฌููุน ุงูุนูููุงุช ุงูุญุณุงุณุฉ ูุญููุฉ ูู Supabase Edge Functions.